深度學習與電腦視覺期末專題__羅傑民
2020/02/19


一、專題摘要 



圖形辨識於工程圖形辨識


        P&ID(Piping & Instrumentation Drawing ) 是興建工廠最重要的設計圖，以圖像連接全廠製程的管線、設備、儀表，此外，P&ID也作為工廠設計者、現場操作者與工廠擁有者的溝通平台，在工廠營運階段也能作為製程改善、討論的依據。

        在數字化工廠的推動下，目前有大量的手繪與印刷的P&ID需要進行數位化，甚至重繪成智能P&ID圖，單張的P&ID重繪非常耗時，且需要投入大量人力，所以希望這次的專題能夠做為未來P&ID重繪自動化的起點，這次專題希望能夠透過這次使用yolov3作為物件偵測的演算法，將圖上的儀表與元件辨識進而與文字辨識套件結合，解讀出元件上的位號資訊。



二、實作方法介紹
1.資料蒐集

目前蒐集約80張左右的P&ID的放大截圖，範例如下:



        這次專案我們先嘗試辨識:現場儀表(正方形中有圓形)、遠端儀表(圓形)與閥元件(雙三角形)如下圖所示:






2.資料標記

        圖片蒐集完後把每一張影像中元件位置標上一個物件框並標註類別，透過labelimg軟體採用 VOC2007 的物件標註格式，標註完後圖片都會產生一個xml格式存放物件的類型與位置


3.訓練

        這次yolov3程式碼參考qqwweee/keras-yolo3 進行實作:

1. 首先，將自己的訓練資料與標記改寫成yolo v3可以使用的格式

2. 最後總共74張圖片，60張做為訓練14張驗證，進行模型訓練，經過幾次模型訓練後，共252層架構最後一次以凍結249層進行微調，最後收斂 loss:43.57 val_loss:98.03




三、 成果展示
        以下為成果展示，目前的模型大致能夠標記出不同的元件，以儀表類型的準確度最高






        閥元件可能因為圖片上有許多類似的圖案，容易導致辨識失敗，未來可以透過增加訓練的數量來改善這個狀況，此外我也嘗試將較不清晰的圖片放入模型測試，發現模型無法針對此類的圖片達到偵測的效果，未來可以嘗試其他圖形前處理的手法來加強模糊的部分，觀察是否可以改善。






四、 結論
    Yolov3在物件偵測上是一個高效且有效的演算法，對於這次專案的目標已有初步的效果，未來希望能進一步搭配文字辨識的套件完成所有元件的定位、名稱與其他資訊的判讀，進而與繪圖軟體的api連結來達成重繪的目的，未來物件偵測的後續工作會進行更多訓練資料的蒐集，並針對較為模糊的圖片進行圖片的品質的加強來強化模型的準確度。



五、期末專題作者資訊
1. 個人Github連結

https://github.com/rogeredc/1st-DL-CVMarathon



2. 個人在深度學習與電腦視覺馬拉松顯示名稱

羅傑民

分享
留言(1)
Mora
2020/02/26
嘗試把所學到的演算法來解決實際生活與工作上的問題很棒，在文件中提到透過60張標記訓練出來的模型，閥元件辨識準確度較差，可以透過小程式分析，目前60張影像中不同類別的標記數量，看標記數量和各類別辨識的準確度，這樣可以更精準地增加標記量，期待你第二版的更新。